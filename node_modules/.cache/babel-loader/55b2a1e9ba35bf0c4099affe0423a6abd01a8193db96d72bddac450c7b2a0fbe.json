{"ast":null,"code":"import React,{useLayoutEffect,useRef}from\"react\";import styled,{keyframes}from\"styled-components\";import Vector from\"../Icons/Vector\";import gsap from\"gsap\";import{ScrollTrigger}from\"gsap/ScrollTrigger\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const VectorContainer=styled.div`\n  position: absolute;\n  top: 0.5rem;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n\n  svg {\n    width: 100%;\n    height: 100%;\n  }\n`;const Bounce=keyframes`\nfrom{\n  transform: translateX(-50%) scale(0.5);\n  \n}\nto{transform: translateX(-50%) scale(1);}\n`;const Ball=styled.div`\n  position: absolute;\n  top: 0.5rem;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 1.5rem;\n  height: 1.5rem;\n  border-radius: 50%;\n  background-color: ${props=>props.theme.text};\n  animation: ${Bounce} 0.5s linear infinite alternate;\n`;const DrawSvg=()=>{const ref=useRef(null);const ballRef=useRef(null);gsap.registerPlugin(ScrollTrigger);useLayoutEffect(()=>{let element=ref.current;let svg=document.getElementsByClassName(\"svg-path\")[0];const length=svg.getTotalLength();// start positioning of svg drawing\nsvg.style.strokeDasharray=length;// hide svg before scrolling start\nsvg.style.strokeDashoffset=length;let t1=gsap.timeline({scrollTrigger:{trigger:element,start:\"top center\",end:\"bottom bottom\",onUpdate:self=>{const draw=length*self.progress;// also reverse the drawing when scroll goes up\nsvg.style.strokeDashoffset=length-draw;},onToggle:self=>{if(self.isActive){ballRef.current.style.display=\"none\";}else{ballRef.current.style.display=\"inline-block\";}}}});return()=>{if(t1)t1.kill();};},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Ball,{ref:ballRef}),/*#__PURE__*/_jsx(VectorContainer,{ref:ref,children:/*#__PURE__*/_jsx(Vector,{})})]});};export default DrawSvg;","map":{"version":3,"names":["React","useLayoutEffect","useRef","styled","keyframes","Vector","gsap","ScrollTrigger","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","VectorContainer","div","Bounce","Ball","props","theme","text","DrawSvg","ref","ballRef","registerPlugin","element","current","svg","document","getElementsByClassName","length","getTotalLength","style","strokeDasharray","strokeDashoffset","t1","timeline","scrollTrigger","trigger","start","end","onUpdate","self","draw","progress","onToggle","isActive","display","kill","children"],"sources":["C:/webdev/practise/The-Weirdos-NFT-Website-Starter-Code/src/components/DrawSvg.js"],"sourcesContent":["import React, { useLayoutEffect, useRef } from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport Vector from \"../Icons/Vector\";\r\nimport gsap from \"gsap\";\r\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\r\n\r\nconst VectorContainer = styled.div`\r\n  position: absolute;\r\n  top: 0.5rem;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n\r\n  svg {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n`;\r\n\r\nconst Bounce = keyframes`\r\nfrom{\r\n  transform: translateX(-50%) scale(0.5);\r\n  \r\n}\r\nto{transform: translateX(-50%) scale(1);}\r\n`;\r\n\r\nconst Ball = styled.div`\r\n  position: absolute;\r\n  top: 0.5rem;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 1.5rem;\r\n  height: 1.5rem;\r\n  border-radius: 50%;\r\n  background-color: ${(props) => props.theme.text};\r\n  animation: ${Bounce} 0.5s linear infinite alternate;\r\n`;\r\n\r\nconst DrawSvg = () => {\r\n  const ref = useRef(null);\r\n  const ballRef = useRef(null);\r\n\r\n  gsap.registerPlugin(ScrollTrigger);\r\n\r\n  useLayoutEffect(() => {\r\n    let element = ref.current;\r\n\r\n    let svg = document.getElementsByClassName(\"svg-path\")[0];\r\n\r\n    const length = svg.getTotalLength();\r\n\r\n    // start positioning of svg drawing\r\n\r\n    svg.style.strokeDasharray = length;\r\n\r\n    // hide svg before scrolling start\r\n    svg.style.strokeDashoffset = length;\r\n\r\n    let t1 = gsap.timeline({\r\n      scrollTrigger: {\r\n        trigger: element,\r\n        start: \"top center\",\r\n        end: \"bottom bottom\",\r\n        onUpdate: (self) => {\r\n          const draw = length * self.progress;\r\n\r\n          // also reverse the drawing when scroll goes up\r\n\r\n          svg.style.strokeDashoffset = length - draw;\r\n        },\r\n        onToggle: (self) => {\r\n          if (self.isActive) {\r\n            ballRef.current.style.display = \"none\";\r\n          } else {\r\n            ballRef.current.style.display = \"inline-block\";\r\n          }\r\n        },\r\n      },\r\n    });\r\n\r\n    return () => {\r\n      if (t1) t1.kill();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Ball ref={ballRef} />\r\n      <VectorContainer ref={ref}>\r\n        <Vector />\r\n      </VectorContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DrawSvg;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,eAAe,CAAEC,MAAM,KAAQ,OAAO,CACtD,MAAO,CAAAC,MAAM,EAAIC,SAAS,KAAQ,mBAAmB,CACrD,MAAO,CAAAC,MAAM,KAAM,iBAAiB,CACpC,MAAO,CAAAC,IAAI,KAAM,MAAM,CACvB,OAASC,aAAa,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,KAAM,CAAAC,eAAe,CAAGX,MAAM,CAACY,GAAI;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,MAAM,CAAGZ,SAAU;AACzB;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAa,IAAI,CAAGd,MAAM,CAACY,GAAI;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAuBG,KAAK,EAAKA,KAAK,CAACC,KAAK,CAACC,IAAK;AAClD,eAAeJ,MAAO;AACtB,CAAC,CAED,KAAM,CAAAK,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAAC,GAAG,CAAGpB,MAAM,CAAC,IAAI,CAAC,CACxB,KAAM,CAAAqB,OAAO,CAAGrB,MAAM,CAAC,IAAI,CAAC,CAE5BI,IAAI,CAACkB,cAAc,CAACjB,aAAa,CAAC,CAElCN,eAAe,CAAC,IAAM,CACpB,GAAI,CAAAwB,OAAO,CAAGH,GAAG,CAACI,OAAO,CAEzB,GAAI,CAAAC,GAAG,CAAGC,QAAQ,CAACC,sBAAsB,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAExD,KAAM,CAAAC,MAAM,CAAGH,GAAG,CAACI,cAAc,CAAC,CAAC,CAEnC;AAEAJ,GAAG,CAACK,KAAK,CAACC,eAAe,CAAGH,MAAM,CAElC;AACAH,GAAG,CAACK,KAAK,CAACE,gBAAgB,CAAGJ,MAAM,CAEnC,GAAI,CAAAK,EAAE,CAAG7B,IAAI,CAAC8B,QAAQ,CAAC,CACrBC,aAAa,CAAE,CACbC,OAAO,CAAEb,OAAO,CAChBc,KAAK,CAAE,YAAY,CACnBC,GAAG,CAAE,eAAe,CACpBC,QAAQ,CAAGC,IAAI,EAAK,CAClB,KAAM,CAAAC,IAAI,CAAGb,MAAM,CAAGY,IAAI,CAACE,QAAQ,CAEnC;AAEAjB,GAAG,CAACK,KAAK,CAACE,gBAAgB,CAAGJ,MAAM,CAAGa,IAAI,CAC5C,CAAC,CACDE,QAAQ,CAAGH,IAAI,EAAK,CAClB,GAAIA,IAAI,CAACI,QAAQ,CAAE,CACjBvB,OAAO,CAACG,OAAO,CAACM,KAAK,CAACe,OAAO,CAAG,MAAM,CACxC,CAAC,IAAM,CACLxB,OAAO,CAACG,OAAO,CAACM,KAAK,CAACe,OAAO,CAAG,cAAc,CAChD,CACF,CACF,CACF,CAAC,CAAC,CAEF,MAAO,IAAM,CACX,GAAIZ,EAAE,CAAEA,EAAE,CAACa,IAAI,CAAC,CAAC,CACnB,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEnC,KAAA,CAAAF,SAAA,EAAAsC,QAAA,eACExC,IAAA,CAACQ,IAAI,EAACK,GAAG,CAAEC,OAAQ,CAAE,CAAC,cACtBd,IAAA,CAACK,eAAe,EAACQ,GAAG,CAAEA,GAAI,CAAA2B,QAAA,cACxBxC,IAAA,CAACJ,MAAM,GAAE,CAAC,CACK,CAAC,EAClB,CAAC,CAEP,CAAC,CAED,cAAe,CAAAgB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}