{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/webdev/practise/The-Weirdos-NFT-Website-Starter-Code/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import React,{useLayoutEffect,useRef}from\"react\";import styled,{keyframes}from\"styled-components\";import Vector from\"../Icons/Vector\";import gsap from\"gsap\";import{ScrollTrigger}from\"gsap/ScrollTrigger\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var VectorContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 0.5rem;\\n  left: 50%;\\n  transform: translateX(-50%);\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n\\n  svg {\\n    width: 100%;\\n    height: 100%;\\n  }\\n\"])));var Bounce=keyframes(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\nfrom{\\n  transform: translateX(-50%) scale(0.5);\\n  \\n}\\nto{transform: translateX(-50%) scale(1);}\\n\"])));var Ball=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 0.5rem;\\n  left: 50%;\\n  transform: translateX(-50%);\\n  width: 1.5rem;\\n  height: 1.5rem;\\n  border-radius: 50%;\\n  background-color: \",\";\\n  animation: \",\" 0.5s linear infinite alternate;\\n\"])),function(props){return props.theme.text;},Bounce);var DrawSvg=function DrawSvg(){var ref=useRef(null);var ballRef=useRef(null);gsap.registerPlugin(ScrollTrigger);useLayoutEffect(function(){var element=ref.current;var svg=document.getElementsByClassName(\"svg-path\")[0];var length=svg.getTotalLength();// start positioning of svg drawing\nsvg.style.strokeDasharray=length;// hide svg before scrolling start\nsvg.style.strokeDashoffset=length;var t1=gsap.timeline({scrollTrigger:{trigger:element,start:\"top center\",end:\"bottom bottom\",onUpdate:function onUpdate(self){var draw=length*self.progress;// also reverse the drawing when scroll goes up\nsvg.style.strokeDashoffset=length-draw;},onToggle:function onToggle(self){if(self.isActive){ballRef.current.style.display=\"none\";}else{ballRef.current.style.display=\"inline-block\";}}}});return function(){if(t1)t1.kill();};},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Ball,{ref:ballRef}),/*#__PURE__*/_jsx(VectorContainer,{ref:ref,children:/*#__PURE__*/_jsx(Vector,{})})]});};export default DrawSvg;","map":{"version":3,"names":["React","useLayoutEffect","useRef","styled","keyframes","Vector","gsap","ScrollTrigger","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","VectorContainer","div","_templateObject","_taggedTemplateLiteral","Bounce","_templateObject2","Ball","_templateObject3","props","theme","text","DrawSvg","ref","ballRef","registerPlugin","element","current","svg","document","getElementsByClassName","length","getTotalLength","style","strokeDasharray","strokeDashoffset","t1","timeline","scrollTrigger","trigger","start","end","onUpdate","self","draw","progress","onToggle","isActive","display","kill","children"],"sources":["C:/webdev/practise/The-Weirdos-NFT-Website-Starter-Code/src/components/DrawSvg.js"],"sourcesContent":["import React, { useLayoutEffect, useRef } from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport Vector from \"../Icons/Vector\";\r\nimport gsap from \"gsap\";\r\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\r\n\r\nconst VectorContainer = styled.div`\r\n  position: absolute;\r\n  top: 0.5rem;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n\r\n  svg {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n`;\r\n\r\nconst Bounce = keyframes`\r\nfrom{\r\n  transform: translateX(-50%) scale(0.5);\r\n  \r\n}\r\nto{transform: translateX(-50%) scale(1);}\r\n`;\r\n\r\nconst Ball = styled.div`\r\n  position: absolute;\r\n  top: 0.5rem;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 1.5rem;\r\n  height: 1.5rem;\r\n  border-radius: 50%;\r\n  background-color: ${(props) => props.theme.text};\r\n  animation: ${Bounce} 0.5s linear infinite alternate;\r\n`;\r\n\r\nconst DrawSvg = () => {\r\n  const ref = useRef(null);\r\n  const ballRef = useRef(null);\r\n\r\n  gsap.registerPlugin(ScrollTrigger);\r\n\r\n  useLayoutEffect(() => {\r\n    let element = ref.current;\r\n\r\n    let svg = document.getElementsByClassName(\"svg-path\")[0];\r\n\r\n    const length = svg.getTotalLength();\r\n\r\n    // start positioning of svg drawing\r\n\r\n    svg.style.strokeDasharray = length;\r\n\r\n    // hide svg before scrolling start\r\n    svg.style.strokeDashoffset = length;\r\n\r\n    let t1 = gsap.timeline({\r\n      scrollTrigger: {\r\n        trigger: element,\r\n        start: \"top center\",\r\n        end: \"bottom bottom\",\r\n        onUpdate: (self) => {\r\n          const draw = length * self.progress;\r\n\r\n          // also reverse the drawing when scroll goes up\r\n\r\n          svg.style.strokeDashoffset = length - draw;\r\n        },\r\n        onToggle: (self) => {\r\n          if (self.isActive) {\r\n            ballRef.current.style.display = \"none\";\r\n          } else {\r\n            ballRef.current.style.display = \"inline-block\";\r\n          }\r\n        },\r\n      },\r\n    });\r\n\r\n    return () => {\r\n      if (t1) t1.kill();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Ball ref={ballRef} />\r\n      <VectorContainer ref={ref}>\r\n        <Vector />\r\n      </VectorContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DrawSvg;\r\n"],"mappings":"mNAAA,MAAO,CAAAA,KAAK,EAAIC,eAAe,CAAEC,MAAM,KAAQ,OAAO,CACtD,MAAO,CAAAC,MAAM,EAAIC,SAAS,KAAQ,mBAAmB,CACrD,MAAO,CAAAC,MAAM,KAAM,iBAAiB,CACpC,MAAO,CAAAC,IAAI,KAAM,MAAM,CACvB,OAASC,aAAa,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,GAAM,CAAAC,eAAe,CAAGX,MAAM,CAACY,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,0MAajC,CAED,GAAM,CAAAC,MAAM,CAAGd,SAAS,CAAAe,gBAAA,GAAAA,gBAAA,CAAAF,sBAAA,8GAMvB,CAED,GAAM,CAAAG,IAAI,CAAGjB,MAAM,CAACY,GAAG,CAAAM,gBAAA,GAAAA,gBAAA,CAAAJ,sBAAA,uOAQD,SAACK,KAAK,QAAK,CAAAA,KAAK,CAACC,KAAK,CAACC,IAAI,GAClCN,MAAM,CACpB,CAED,GAAM,CAAAO,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CACpB,GAAM,CAAAC,GAAG,CAAGxB,MAAM,CAAC,IAAI,CAAC,CACxB,GAAM,CAAAyB,OAAO,CAAGzB,MAAM,CAAC,IAAI,CAAC,CAE5BI,IAAI,CAACsB,cAAc,CAACrB,aAAa,CAAC,CAElCN,eAAe,CAAC,UAAM,CACpB,GAAI,CAAA4B,OAAO,CAAGH,GAAG,CAACI,OAAO,CAEzB,GAAI,CAAAC,GAAG,CAAGC,QAAQ,CAACC,sBAAsB,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAExD,GAAM,CAAAC,MAAM,CAAGH,GAAG,CAACI,cAAc,CAAC,CAAC,CAEnC;AAEAJ,GAAG,CAACK,KAAK,CAACC,eAAe,CAAGH,MAAM,CAElC;AACAH,GAAG,CAACK,KAAK,CAACE,gBAAgB,CAAGJ,MAAM,CAEnC,GAAI,CAAAK,EAAE,CAAGjC,IAAI,CAACkC,QAAQ,CAAC,CACrBC,aAAa,CAAE,CACbC,OAAO,CAAEb,OAAO,CAChBc,KAAK,CAAE,YAAY,CACnBC,GAAG,CAAE,eAAe,CACpBC,QAAQ,CAAE,SAAAA,SAACC,IAAI,CAAK,CAClB,GAAM,CAAAC,IAAI,CAAGb,MAAM,CAAGY,IAAI,CAACE,QAAQ,CAEnC;AAEAjB,GAAG,CAACK,KAAK,CAACE,gBAAgB,CAAGJ,MAAM,CAAGa,IAAI,CAC5C,CAAC,CACDE,QAAQ,CAAE,SAAAA,SAACH,IAAI,CAAK,CAClB,GAAIA,IAAI,CAACI,QAAQ,CAAE,CACjBvB,OAAO,CAACG,OAAO,CAACM,KAAK,CAACe,OAAO,CAAG,MAAM,CACxC,CAAC,IAAM,CACLxB,OAAO,CAACG,OAAO,CAACM,KAAK,CAACe,OAAO,CAAG,cAAc,CAChD,CACF,CACF,CACF,CAAC,CAAC,CAEF,MAAO,WAAM,CACX,GAAIZ,EAAE,CAAEA,EAAE,CAACa,IAAI,CAAC,CAAC,CACnB,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEvC,KAAA,CAAAF,SAAA,EAAA0C,QAAA,eACE5C,IAAA,CAACW,IAAI,EAACM,GAAG,CAAEC,OAAQ,CAAE,CAAC,cACtBlB,IAAA,CAACK,eAAe,EAACY,GAAG,CAAEA,GAAI,CAAA2B,QAAA,cACxB5C,IAAA,CAACJ,MAAM,GAAE,CAAC,CACK,CAAC,EAClB,CAAC,CAEP,CAAC,CAED,cAAe,CAAAoB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}